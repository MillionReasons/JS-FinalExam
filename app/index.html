<!doctype html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="D:\GITHUB\JS-FinalExam\app\code\chapter\15_game.js"></script>
<script src="D:\GITHUB\JS-FinalExam\app\code\GAME_LEVELS.js"></script>

<link rel="stylesheet" href="css/game.css">



<div id="music">   <!-- 设置网页背景音乐  自带播放器 -->
 <audio controls  loop>
  <source src="Aimer - ninelie ＜cry-v＞.mp3" type="audio/ogg" /> </audio>
  </div>

<body>
  
  <div id="111">
    <script>
    runGame(GAME_LEVELS, DOMDisplay);
  </script>
  </div>

  
  

<script>
  

    function test(){
      var tt = sessionStorage.length -1;
      var msg = sessionStorage.key(tt);
      var tr = document.createElement("tr");
      var td1 = document.createElement("td");
      var td2 = document.createElement("td");
      td2.id='coinNum';
      tr.align = "center";
      td1.innerHTML = msg;
      td2.innerHTML = 0;
      tr.appendChild(td1);
      tr.appendChild(td2);    
      document.getElementById("table1").appendChild(tr);

      var max = localStorage.getItem(localStorage.key(0));
          for(var i=1, len = localStorage.length; i<len ; i++){
                if(max<localStorage.getItem(localStorage.key(i))){
                  var first = i;
                  max = localStorage.getItem(localStorage.key(i));
                }
          }
          var max1 = localStorage.getItem(localStorage.key(0));
          for(var i=1, len = localStorage.length; i<len ; i++){
                
                if(max1<localStorage.getItem(localStorage.key(i))){
                  if(i!=first){
                  var second = i;
                  max1 = localStorage.getItem(localStorage.key(i));
                  }
                }
          }
          var max2 = localStorage.getItem(localStorage.key(0));
           for(var i=1, len = localStorage.length; i<len ; i++){
               
                if(max2<localStorage.getItem(localStorage.key(i))){
                  if(i!=first&&i!=second){
                  var third = i;
                  max2 = localStorage.getItem(localStorage.key(i));
                  }
                }
          }

          var max3 = localStorage.getItem(localStorage.key(0));
           for(var i=1, len = localStorage.length; i<len ; i++){
               
                if(max3<localStorage.getItem(localStorage.key(i))){
                  if(i!=first&&i!=second&&i!=third){
                  var fifth = i;
                  max2 = localStorage.getItem(localStorage.key(i));
                  }
                }
          }
          
           document.getElementById("td3").innerHTML=localStorage.key(first);
           document.getElementById("td4").innerHTML=localStorage.getItem(localStorage.key(first));

           document.getElementById("td5").innerHTML=localStorage.key(second);
           document.getElementById("td6").innerHTML=localStorage.getItem(localStorage.key(second));

           document.getElementById("td7").innerHTML=localStorage.key(third);
           document.getElementById("td8").innerHTML=localStorage.getItem(localStorage.key(third));

           document.getElementById("td9").innerHTML=localStorage.key(fourth);
           document.getElementById("td10").innerHTML=localStorage.getItem(localStorage.key(fourth));




    }
    document.body.onload = function(){
      test();
    }

</script>




<div  id="class">
<table border="0" width= 200px id="table1">
  <tr>
    <th align=center>当前账号ID</th>
    <th align=center>当前分数</th>
  </tr>
</table>
</div>

<div  id="list">
<table border="0" width= 200px id="table2">
  <caption align="top">TOP 3</caption>
  <tr>
    <th align=center></th>
    <th align=center>账号</th>
    <th align=center>积分</th>
  </tr>
  <tr>
    <th align=center>第一</th>
    <td id ="td3"></td>
    <td id ="td4"></td>
  </tr>
  <tr>
    <th align=center>第二</th>
    <td id ="td5"></td>
    <td id ="td6"></td>
  </tr>
  <tr>
    <th align=center>第三</th>
    <td id ="td7"></td>
    <td id ="td8"></td>
  </tr>
  <tr>
    <th align=center>第四</th>
    <td id ="td9"></td>
    <td id ="td10"></td>
  </tr>
</table>
</div>

</body>
